# Zentoria Personal Edition - Main Configuration (.env)
# Copy to .env and customize for your environment

# ============================================================================
# CORE CONFIGURATION
# ============================================================================

# Environment
ENVIRONMENT=production
DEBUG=false
TZ=UTC
TIMEZONE=Europe/Amsterdam

# Service Naming
COMPOSE_PROJECT_NAME=zentoria
SERVICE_NAME=zentoria-personal-edition
SERVICE_VERSION=1.0.0

# ============================================================================
# DATABASE (PostgreSQL + PgBouncer)
# ============================================================================

DB_USER=zentoria
DB_PASSWORD=changeme
DB_HOST=postgres
DB_PORT=5432
DB_NAME=zentoria_core

PGBOUNCER_POOL_MODE=transaction
PGBOUNCER_MAX_CLIENT_CONN=1000
PGBOUNCER_DEFAULT_POOL_SIZE=25

# ============================================================================
# CACHE (Redis)
# ============================================================================

REDIS_PASSWORD=changeme
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_MAXMEMORY=256mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# ============================================================================
# VAULT (Secrets Management)
# ============================================================================

VAULT_ADDR=http://localhost:8200
VAULT_TOKEN=
VAULT_UNSEAL_KEY_1=
VAULT_UNSEAL_KEY_2=
VAULT_UNSEAL_KEY_3=
VAULT_LOG_LEVEL=info

# ============================================================================
# LOGGING (Prometheus, Grafana, Loki)
# ============================================================================

PROMETHEUS_RETENTION=15d
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=changeme
GRAFANA_SECRET_KEY=changeme
GRAFANA_PLUGINS=grafana-worldmap-panel,grafana-piechart-panel
GRAFANA_LOG_LEVEL=info

LOKI_LOG_LEVEL=info
PROMTAIL_LOG_LEVEL=info

# ============================================================================
# FILE STORAGE (MinIO)
# ============================================================================

MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=changeme
MINIO_LOG_LEVEL=info
MINIO_STORAGE_CLASS_STANDARD=EC:2

# ============================================================================
# AUTOMATION (n8n)
# ============================================================================

N8N_HOST=localhost
N8N_PORT=5678
N8N_PROTOCOL=http
N8N_EXECUTION_MODE=queue
N8N_DB_TYPE=postgresdb
N8N_DB_NAME=n8n
N8N_DB_USER=n8n
N8N_DB_PASSWORD=changeme
N8N_LOG_LEVEL=info
N8N_SECURE_COOKIE=false
N8N_JWT_SECRET=changeme
N8N_ENCRYPTION_KEY=changeme
N8N_JWT_AUDIENCE=n8n
N8N_JWT_ISSUER=n8n

WEBHOOK_URL=http://localhost:5678

# n8n Workers
N8N_EXECUTION_MODE=queue
WORKER_TYPE=webhook,trigger

# ============================================================================
# AI SERVICES (Ollama, Open WebUI)
# ============================================================================

OLLAMA_HOST=localhost:11434
OLLAMA_DEBUG=false
OLLAMA_LOG_LEVEL=info

WEBUI_SECRET_KEY=changeme
WEBUI_DEFAULT_LOCALE=en

# AI Orchestrator
AI_LOG_LEVEL=info
INFERENCE_TIMEOUT=120
MAX_QUEUE_SIZE=100
WORKER_COUNT=4
CONTEXT_SIZE=4096

# ============================================================================
# EMBEDDINGS & RAG (Qdrant, Embedding Service)
# ============================================================================

QDRANT_LOG_LEVEL=info
QDRANT_READ_ONLY_MODE=false

EMBEDDING_MODEL=all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384
EMBEDDING_BATCH_SIZE=32
EMBEDDING_LOG_LEVEL=info
EMBEDDING_API_KEY=changeme

RAG_LOG_LEVEL=info
RAG_TOP_K=5
RAG_SIMILARITY_THRESHOLD=0.7
RAG_CHUNK_SIZE=512
RAG_CHUNK_OVERLAP=50

# ============================================================================
# OCR (Paperless-ngx, Tesseract)
# ============================================================================

PAPERLESS_SECRET_KEY=changeme
PAPERLESS_DEBUG=false
PAPERLESS_LOG_LEVEL=info
PAPERLESS_DB_NAME=paperless
PAPERLESS_DB_USER=paperless
PAPERLESS_DB_PASSWORD=changeme
PAPERLESS_DELETE_DUPLICATES=true
PAPERLESS_TASK_WORKERS=2
PAPERLESS_THREADS_PER_WORKER=1
PAPERLESS_LANGUAGE=en
PAPERLESS_OCR_LANGUAGE=eng

TESSERACT_LOG_LEVEL=info
LANGDETECT_ENABLED=true
OCR_MIN_CONFIDENCE=0.5
OCR_BATCH_PROCESSING=true

# ============================================================================
# VOICE (Whisper, Piper)
# ============================================================================

WHISPER_LOG_LEVEL=info
WHISPER_MODEL=base
WHISPER_DEVICE=cuda
WHISPER_COMPUTE_TYPE=float16
WHISPER_MAX_QUEUE=100
WHISPER_BATCH_SIZE=1
WHISPER_LANGUAGE=
WHISPER_TASK=transcribe

PIPER_LOG_LEVEL=info
PIPER_DEFAULT_VOICE=en_US-lessac-medium
PIPER_SPEAKER=0
PIPER_LENGTH_SCALE=1.0
PIPER_NOISE_SCALE=0.667
PIPER_NOISE_W=0.8

VOICE_LOG_LEVEL=info
MAX_AUDIO_DURATION=300
VOICE_SUPPORTED_FORMATS=wav,mp3,flac,ogg
VOICE_LANGUAGE_DETECTION=true

# ============================================================================
# AUTHENTICATION (Auth Service, OAuth2)
# ============================================================================

AUTH_SERVICE_VERSION=1.0.0
AUTH_LOG_LEVEL=info

JWT_ALGORITHM=HS256
JWT_SECRET_KEY=changeme
JWT_EXPIRATION=3600
JWT_REFRESH_EXPIRATION=604800
JWT_AUDIENCE=zentoria
JWT_ISSUER=zentoria

SESSION_TIMEOUT=3600

RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

CORS_ORIGINS=*
CORS_ALLOW_CREDENTIALS=true

TLS_ENABLED=false
TLS_CERT_PATH=
TLS_KEY_PATH=

# OAuth Providers
OAUTH_GOOGLE_CLIENT_ID=
OAUTH_GOOGLE_CLIENT_SECRET=
OAUTH_GITHUB_CLIENT_ID=
OAUTH_GITHUB_CLIENT_SECRET=

# OAuth2 Proxy
OAUTH2_CLIENT_ID=zentoria
OAUTH2_CLIENT_SECRET=changeme
OAUTH2_COOKIE_SECRET=changeme
OAUTH2_COOKIE_SECURE=false
OAUTH2_REDIRECT_URL=http://localhost:4180/oauth2/callback
OAUTH2_PROVIDER=oidc
OAUTH2_SKIP_JWT=false
OAUTH2_EMAIL_DOMAINS=*
OAUTH2_UPSTREAMS=http://localhost:5678

# ============================================================================
# WAF (CrowdSec, ModSecurity)
# ============================================================================

CROWDSEC_BOUNCER_KEY=
CROWDSEC_API_KEY=
CROWDSEC_SCENARIOS=
CROWDSEC_HOSTNAME=zentoria

NGINX_BOUNCER_KEY=
BOUNCER_LOG_LEVEL=info

CONSOLE_LOG_LEVEL=info

MODSEC_LOG_LEVEL=info
MODSEC_RULES=owasp
MODSEC_PARANOIA_LEVEL=1
MODSEC_BLOCKING_MODE=DetectionOnly
MODSEC_MAX_REQUEST=10485760

# ============================================================================
# DOCUMENTATION (Wiki.js, Swagger, Redoc)
# ============================================================================

WIKI_TITLE=Zentoria Docs
WIKI_DESCRIPTION=Complete documentation for Zentoria services
WIKI_LOG_LEVEL=info

WIKIJS_DB_NAME=wikijs
WIKIJS_DB_USER=wikijs
WIKIJS_DB_PASSWORD=changeme

# ============================================================================
# PROXY (NGINX, Traefik, HAProxy, Caddy)
# ============================================================================

# NGINX
NGINX_WORKERS=auto
NGINX_WORKER_CONNECTIONS=2048

# Certbot
CERTBOT_EMAIL=admin@zentoria.ai
CERTBOT_DOMAIN=zentoria.ai

# Traefik
TRAEFIK_INSECURE=false
TRAEFIK_LOG_LEVEL=info

# HAProxy
HAPROXY_LOG_LEVEL=info

# Caddy
CADDY_LOG_LEVEL=info

# ============================================================================
# LOGGING LEVELS
# ============================================================================

LOG_LEVEL=info
LOGLEVEL=info
LOGURU_LEVEL=info

# ============================================================================
# PERFORMANCE & LIMITS
# ============================================================================

WORKER_PROCESSES=auto
MAX_POOL_SIZE=100
MIN_POOL_SIZE=10
REQUEST_TIMEOUT=30
QUERY_TIMEOUT=60

# ============================================================================
# DEVELOPMENT OVERRIDES
# ============================================================================

# Set DEVELOPMENT=true in .env for local development
DEVELOPMENT=false
MOCK_EXTERNAL_SERVICES=false
SKIP_SSL_VERIFICATION=false

# ============================================================================
# BACKUPS & MAINTENANCE
# ============================================================================

BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=7
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_DESTINATION=s3://backups/zentoria

# ============================================================================
# MONITORING & ALERTS
# ============================================================================

ALERT_EMAIL=admin@zentoria.ai
ALERT_WEBHOOK_URL=
ALERT_PAGERDUTY_KEY=
ALERT_SLACK_WEBHOOK=
ALERT_ENABLED=true

# ============================================================================
# CUSTOM SETTINGS
# ============================================================================

# Add your custom environment variables below
CUSTOM_SETTING_1=
CUSTOM_SETTING_2=
