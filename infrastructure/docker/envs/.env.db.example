# Database Service Configuration (.env.db)

# PostgreSQL Configuration
DB_USER=zentoria
DB_PASSWORD=changeme
DB_HOST=postgres
DB_PORT=5432
DB_NAME=zentoria_core

# PgBouncer Configuration
PGBOUNCER_POOL_MODE=transaction
PGBOUNCER_MAX_CLIENT_CONN=1000
PGBOUNCER_DEFAULT_POOL_SIZE=25
PGBOUNCER_MIN_POOL_SIZE=10
PGBOUNCER_RESERVE_POOL_SIZE=5
PGBOUNCER_RESERVE_POOL_TIMEOUT=3
PGBOUNCER_MAX_DB_CONNECTIONS=100
PGBOUNCER_POOL_TIMEOUT=600

# Backup Configuration
BACKUP_RETENTION_DAYS=7
BACKUP_SCHEDULE="0 2 * * *"

# Performance
POSTGRES_SHARED_PRELOAD_LIBRARIES=pgvector
POSTGRES_MAX_CONNECTIONS=200
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB
POSTGRES_WORK_MEM=4MB
POSTGRES_MAINTENANCE_WORK_MEM=64MB

# Logging
DB_LOG_LEVEL=notice
DB_LOG_MIN_DURATION=1000
POSTGRES_INIT_ARGS="-c shared_preload_libraries=pgvector -c max_connections=200"

# Replication (optional)
REPLICATION_ENABLED=false
STANDBY_HOST=
STANDBY_PORT=5432

# Timezone
TZ=UTC
