# Grafana Configuration for Zentoria Personal Edition
# Version: 1.0.0

#################################### Server ####################################
[server]
# Protocol (http, https, h2, socket)
protocol = http

# The ip address to bind to, empty will bind to all interfaces
http_addr = 0.0.0.0

# The http port to use
http_port = 3000

# The public facing domain name used to access grafana from a browser
domain = grafana.zentoria.local

# Redirect to correct domain if host header does not match domain
enforce_domain = false

# The full public facing url
root_url = %(protocol)s://%(domain)s:%(http_port)s/

# Serve Grafana from subpath specified in root_url setting
serve_from_sub_path = false

# Enable gzip
enable_gzip = true

# Router logging
router_logging = false

#################################### Database ###################################
[database]
# Use SQLite for simplicity in personal edition
type = sqlite3
path = /var/lib/grafana/grafana.db

#################################### Session ####################################
[session]
# Session cookie name
cookie_name = grafana_sess

# Session expiration in seconds (default is 24 hours)
cookie_secure = false
session_life_time = 86400

#################################### Data Proxy ###################################
[dataproxy]
# Enable data proxy logging
logging = false

# Timeout for data proxy requests
timeout = 30

#################################### Analytics ###################################
[analytics]
# Disable analytics reporting
reporting_enabled = false
check_for_updates = false

#################################### Security ###################################
[security]
# Disable gravatar
disable_gravatar = true

# Set admin user on first run
admin_user = admin

# Default admin password (change in production!)
admin_password = zentoria_admin

# Allow embedding in iframes
allow_embedding = true

# Cookie settings
cookie_secure = false
cookie_samesite = lax

# Disable brute force protection for local development
disable_brute_force_login_protection = false

#################################### Users ###################################
[users]
# Disable user signup
allow_sign_up = false

# Allow org admin to change user password
allow_org_create = false

# Set to true to automatically assign new users to the default organization
auto_assign_org = true

# Default org id for new users
auto_assign_org_id = 1

# Default role for new users
auto_assign_org_role = Viewer

# Hide user list from non-admin users
viewers_can_edit = false

#################################### Auth ###################################
[auth]
# Disable login form (if using external auth only)
disable_login_form = false

# Disable signout menu
disable_signout_menu = false

#################################### Anonymous Auth ###################################
[auth.anonymous]
# Enable anonymous access (for dashboard embedding)
enabled = false

#################################### Basic Auth ###################################
[auth.basic]
enabled = true

#################################### Logging ###################################
[log]
# Log mode: console, file, syslog
mode = console file

# Log level: debug, info, warn, error, critical
level = info

# Log file path
[log.file]
log_rotate = true
max_lines = 1000000
max_size_shift = 28
daily_rotate = true
max_days = 7

#################################### Alerting ###################################
[alerting]
# Enable alerting engine
enabled = true

# Make alerting rule execution deterministic
execute_alerts = true

#################################### Unified Alerting ###################################
[unified_alerting]
enabled = true

# Minimum interval between alert rule evaluations
min_interval = 10s

#################################### Explore ###################################
[explore]
enabled = true

#################################### Dashboards ###################################
[dashboards]
# Dashboard versions to keep (per dashboard)
versions_to_keep = 20

# Minimum dashboard refresh interval
min_refresh_interval = 5s

#################################### SMTP / Emailing ###################################
[smtp]
enabled = true
host = smtp.zentoria.local:587
user = grafana@zentoria.local
password = """${SMTP_PASSWORD}"""
skip_verify = true
from_address = grafana@zentoria.local
from_name = Zentoria Grafana

#################################### Paths ###################################
[paths]
# Path to where grafana stores temp files
data = /var/lib/grafana

# Path to where grafana stores logs
logs = /var/log/grafana

# Directory where grafana will automatically scan and look for plugins
plugins = /var/lib/grafana/plugins

# Path to provisioning configuration
provisioning = /etc/grafana/provisioning

#################################### Panels ###################################
[panels]
# Enable alpha panels
enable_alpha = false

#################################### Plugins ###################################
[plugins]
# Enable or disable installing plugins
enable_alpha = false

# Allow loading unsigned plugins
allow_loading_unsigned_plugins =

#################################### Feature Toggles ###################################
[feature_toggles]
# Enable features
enable =

#################################### Date Formats ###################################
[date_formats]
# Default timezone (user timezone, browser, or UTC)
default_timezone = browser

# Full date format
full_date = YYYY-MM-DD HH:mm:ss

# Interval formats
interval_second = HH:mm:ss
interval_minute = HH:mm
interval_hour = MM/DD HH:mm
interval_day = MM/DD
interval_month = YYYY-MM
interval_year = YYYY

#################################### Rendering ###################################
[rendering]
# Server URL to send render requests to (for PNG rendering)
server_url =
callback_url =
concurrent_render_request_limit = 4
